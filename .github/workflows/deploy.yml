   name: Deploy React Frontend

   on:
     push:
       branches: [ master ]  # 或者您的主分支名称

   jobs:
     build-and-deploy:
       runs-on: ubuntu-latest
       
       steps:
       - name: Checkout repository
         uses: actions/checkout@v2

       - name: Set up Node.js
         uses: actions/setup-node@v2
         with:
           node-version: '18.20.4'  # 使用与您项目兼容的 Node.js 版本

       - name: Install dependencies
         run: npm ci

       - name: Build project
         run: npm run build

       - name: Deploy to server
         uses: easingthemes/ssh-deploy@v2.1.1
         env:
           SSH_PRIVATE_KEY: ${{ secrets.PRIVATE_KEY }}
           ARGS: "-avzr --delete"
           #build/*
           SOURCE: "./build/"
           REMOTE_HOST: ${{ secrets.HOST }}
           REMOTE_USER: ${{ secrets.USERNAME }}
           TARGET: '/data/aiweb/moduchat.clinet/'
           EXCLUDE: "/node_modules/"
           script: |
             cd /data/aiweb/
             docker-compose up -d --build